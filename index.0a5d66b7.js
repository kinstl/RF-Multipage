const bodyNode=document.querySelector("body"),emailSubInputPopupNode=document.querySelector("#popup__email-input"),emailSubContPopupNode=document.querySelector("#popup__email-container"),emailSubBtnPopupNode=document.querySelector("#popup__email-btn"),timeout=800;function popupOpen(e){hambPopupNode.classList.remove("open"),hambBtnNode.classList.remove("active"),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))})),bodyLock()}function popupClose(e){e.classList.remove("open"),bodyUnlock()}function bodyLock(){const e=window.innerWidth-document.body.offsetWidth+"px";bodyNode.style.paddingRight=e,bodyNode.classList.add("lock")}function bodyUnlock(){setTimeout((function(){bodyNode.style.paddingRight="0px",bodyNode.classList.remove("lock")}),timeout)}function subscribePopup(e){if(/\S+@\S+\.\S+/.test(e))emailSubContPopupNode.innerHTML=`\n        <div class="js-subscribe-msg">You have been subscribed, check your email <span class="js-subscribe-msg_email">${e}</span></div>\n        `,EMAIL_ERROR_POPUP.remove();else{emailSubInputPopupNode.value="",emailSubInputPopupNode.classList.add("js-email-input-error"),createEmailError(EMAIL_ERROR_POPUP);document.querySelector("#popup-error")||emailSubContPopupNode.after(EMAIL_ERROR_POPUP)}}function createEmailError(e){e.classList.add("js-email-error-container"),e.innerHTML='\n    <div class="js-email-error-container__img"></div>\n<p class="js-email-error-container__msg">Incorrect email address</p>\n',e.id="#popup-error"}emailSubBtnPopupNode.addEventListener("click",(function(){subscribePopup(emailSubInputPopupNode.value)}));